스프링부트는 톰켓 웹 서버를 내장하고 있다. 톰켓 웹서버는 스프링부트 애플리케이션을 실행할 때 사용된다.

서버를 실행할 때는 /Users/username/~~/demo/build/libs 에서 java -jar demo-0.0.1-SNAPSHOT.jar로 실행하면 된다.
중복포트는 사용이 불가하며, SNAPSHOT.jar 파일을 서버에 집어넣고 실행하면 된다.

gradle build로 빌드하면 build/libs 폴더에 SNAPSHOT.jar 파일이 생성된다.
gradle clean build로 빌드하면 기존의 build 폴더가 삭제되고, 다시 새로운 SNAPSHOT.jar 파일이 생성된다.

1. 서버란?
                                                                                                                                                                                                                         
  요청을 받아서 응답을 돌려주는 프로그램(또는 그 프로그램이 돌아가는 컴퓨터)이다.
  - 브라우저(클라이언트)가 요청을 보내면, 서버가 처리해서 응답(HTML 등)을 돌려준다.                                                                                                                                      
  - 개발 중에는 내 컴퓨터가 서버 역할을 한다 → 그래서 localhost:8080으로 접속한다.
  - 실제 서비스에서는 AWS 같은 외부 컴퓨터에 올려서 서버로 쓴다.

  2. Tomcat과 내장 서버

  - Tomcat = Java 웹 애플리케이션을 실행해주는 서버 프로그램이다.
  - 과거에는 Tomcat을 따로 설치하고, 내 코드를 WAR로 패키징해서 Tomcat에 넣어야 했다. (애플리케이션 따로, 서버 따로)
  - Spring Boot는 Tomcat을 라이브러리로 프로젝트 안에 내장시켰다. 그래서 ./gradlew bootRun 한 줄이면 서버가 뜬다.

  3. Spring Boot 프로젝트 생성 - start.spring.io

  - Spring Initializr라는 공식 프로젝트 생성기 웹사이트다.
  - 빌드 도구(Gradle/Maven), 언어, Spring Boot 버전, 의존성을 선택하면 프로젝트 초기 구조를 zip으로 만들어준다.
  - 이 demo 프로젝트도 여기서 생성된 것이다.

  4. Starter 의존성

  - 관련 라이브러리들을 하나로 묶어놓은 패키지다.
  - 예: spring-boot-starter-webmvc → Spring MVC, 내장 Tomcat, JSON 처리 등을 한번에 가져온다.
  - Starter가 없으면 필요한 라이브러리를 하나하나 찾아서 버전 맞춰가며 추가해야 한다.

  5. 의존성은 어디에 있나?

  - 프로젝트 안에 직접 있는 게 아니다.
  - build.gradle에 선언하면 Gradle이 Maven Central(온라인 라이브러리 저장소)에서 자동으로 다운로드한다.
  - 다운로드된 파일은 ~/.gradle/caches/에 캐시되고, IntelliJ에서는 External Libraries에서 확인할 수 있다.

  6. 전체 흐름 요약

  start.spring.io에서 프로젝트 생성
    → Starter 의존성으로 필요한 라이브러리 자동 다운로드
      → 내장 Tomcat 포함됨
        → ./gradlew bootRun 하면 내 컴퓨터에서 서버 실행
          → 브라우저에서 localhost:8080 으로 접속


로깅 프레임워크는 메시지 중요도(레벨) 구분, 출력 위치(콘솔, 파일) 설정 등 System.out.println보다 훨씬 다양한 기능을 제공한다. 실제 서비스 운영 시 필수적이다.


사용자가 url을 통해 요청을 보내면, 내장 톰켓 웹서버가 이를 스프링 컨테이너에 전달하고, 스프링 컨테이너의 컨트롤러를 확인한다. 컨트롤러에 해당 이름의 파일이 존재할 경우 해당 메서드를 실행하지만, 없을 경우 resources/static 폴더를 확인한 뒤 해당 파일을 찾아서 반환한다.

스프링부트 MVC (Model View Controller)

Model : 페이지 표시에 필요한 데이터를 담음
View : 화면과 관련된 작업을 처리
Controller : 비즈니스 로직을 비롯한 백엔드 로직 전반을 처리

control + 엔터 누르고, getter and setter를 누르면 자동으로 생성됨

사용자가 url을 통해 요청을 보내면, 내장 톰켓 웹서버가 이를 스프링 컨테이너에 전달하고, 스프링 컨테이너의 컨트롤러를 확인한다. 컨트롤러에 해당 이름의 파일이 존재할 경우 해당 메서드를 실행하는데, 여기에 문자열이 오면 그대로 문자열을 반환하지만, 클래스가 왔을 경우에는 기본적으로 json 형식으로 객체를 반환한다. response body가 있으면 객체의 경우 HttpMessageConverter를 사용하고, 문자열의 경우 StringConverter를 사용한다. 그 후 이 객체 혹은 문자열을 호출한 브라우저 / 서버에 반환한다.

기본 문자처리: StringHttpMessageConverter
기본 객체처리: MappingJackson2HttpMessageConverter // 객체를 json으로 변환시켜주는 유명한 라이브러리들 중 하나.

