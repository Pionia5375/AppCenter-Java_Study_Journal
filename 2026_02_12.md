# Spring Boot í•µì‹¬ ê°œë… ì •ë¦¬

## ğŸ“Œ 1. ìŠ¤í”„ë§ì˜ 3ëŒ€ í•µì‹¬ ê°œë…

### 1.1 IoC (Inversion of Control) - ì œì–´ì˜ ì—­ì „

#### ê°œë…
ê°ì²´ì˜ ìƒì„±ê³¼ ê´€ë¦¬ë¥¼ ê°œë°œìê°€ ì•„ë‹Œ **ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ë‹´ë‹¹**í•˜ëŠ” ì„¤ê³„ ì›ì¹™

#### ë¹ˆ(Bean)ì´ë€?
- **ì •ì˜**: IoC ê´€ì ì—ì„œ ìŠ¤í”„ë§ì´ ìƒì„±í•˜ê³  ê´€ë¦¬í•˜ëŠ” ê°ì²´
- **ë“±ë¡ ë°©ë²•**: `@Component` ë° ê·¸ í•˜ìœ„ ì–´ë…¸í…Œì´ì…˜ ì‚¬ìš©

#### @Component
```java
@Component
public class UserService {
    // ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì´ í´ë˜ìŠ¤ì˜ ê°ì²´ë¥¼ ìƒì„±í•˜ê³  ê´€ë¦¬
}
```

**ì—­í• **:
- í•´ë‹¹ í´ë˜ìŠ¤ê°€ ìŠ¤í”„ë§ì´ ê´€ë¦¬í•˜ëŠ” ë¹ˆì„ì„ ëª…ì‹œ
- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ë©”ëª¨ë¦¬ì— ê°ì²´ ìƒì„±

**ì¥ì **:
- ê°ì²´ ìƒì„±ì„ ì§ì ‘ í•˜ì§€ ì•Šì•„ë„ ë¨ (`new` ì‚¬ìš© ë¶ˆí•„ìš”)
- ì˜ì¡´ì„± ì£¼ì…(DI)ì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ë¨
- ì‹±ê¸€í†¤ íŒ¨í„´ ìë™ ì ìš©

---

### 1.2 AOP (Aspect Oriented Programming) - ê´€ì  ì§€í–¥ í”„ë¡œê·¸ë˜ë°

#### ê°œë…
í”„ë¡œê·¸ë˜ë° ê´€ì‹¬ì‚¬ë¥¼ **í•µì‹¬ ê´€ì **ê³¼ **ë¶€ê°€ ê´€ì **ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ ëª¨ë“ˆí™”í•˜ëŠ” ê¸°ë²•

#### ê´€ì‹¬ì‚¬ êµ¬ë¶„

| êµ¬ë¶„ | ì„¤ëª… | ì˜ˆì‹œ |
|-----|------|------|
| í•µì‹¬ ê´€ì  | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ | íšŒì› ê°€ì…, ì£¼ë¬¸ ì²˜ë¦¬, ê²°ì œ |
| ë¶€ê°€ ê´€ì  | í•µì‹¬ ê¸°ëŠ¥ì„ ì§€ì›í•˜ëŠ” ë¶€ê°€ ê¸°ëŠ¥ | ë¡œê¹…, ë³´ì•ˆ, íŠ¸ëœì­ì…˜ ê´€ë¦¬, ì˜ˆì™¸ ì²˜ë¦¬ |

#### AOPì˜ ì¥ì 

**Before AOP (ì½”ë“œ ì¤‘ë³µ ë°œìƒ):**
```java
public void createUser() {
    log.info("ë©”ì„œë“œ ì‹œì‘");  // ì¤‘ë³µ
    // í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    log.info("ë©”ì„œë“œ ì¢…ë£Œ");  // ì¤‘ë³µ
}

public void deleteUser() {
    log.info("ë©”ì„œë“œ ì‹œì‘");  // ì¤‘ë³µ
    // í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    log.info("ë©”ì„œë“œ ì¢…ë£Œ");  // ì¤‘ë³µ
}
```

**After AOP (ì¤‘ë³µ ì œê±°):**
```java
@Aspect
public class LoggingAspect {
    @Around("execution(* com.example..*(..))")
    public Object logExecutionTime(ProceedingJoinPoint joinPoint) {
        log.info("ë©”ì„œë“œ ì‹œì‘");
        Object result = joinPoint.proceed();
        log.info("ë©”ì„œë“œ ì¢…ë£Œ");
        return result;
    }
}

// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ ê¹”ë”í•˜ê²Œ
public void createUser() {
    // í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ
}
```

#### ì ìš© ë¶„ì•¼
- **ë¡œê¹…**: ë©”ì„œë“œ ì‹¤í–‰ ì‹œê°„, íŒŒë¼ë¯¸í„° ê¸°ë¡
- **ë³´ì•ˆ**: ê¶Œí•œ ì²´í¬
- **íŠ¸ëœì­ì…˜**: DB ì‘ì—…ì˜ ì›ìì„± ë³´ì¥
- **ì˜ˆì™¸ ì²˜ë¦¬**: ê³µí†µ ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§

---

### 1.3 PSA (Portable Service Abstraction) - ì´ì‹ ê°€ëŠ¥í•œ ì„œë¹„ìŠ¤ ì¶”ìƒí™”

#### ê°œë…
ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” ê¸°ìˆ ì„ **ì¶”ìƒí™”ëœ ì¸í„°í˜ì´ìŠ¤**ë¡œ ì œê³µí•˜ì—¬, êµ¬í˜„ì²´ ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì •ì„ ìµœì†Œí™”

#### í•µì‹¬ ì›ë¦¬
- **ì¶”ìƒí™”**: ë³µì¡í•œ ê¸°ìˆ ì„ ë‹¨ìˆœí•œ ì¸í„°í˜ì´ìŠ¤ë¡œ ê°ìŒˆ
- **ì´ì‹ì„±**: êµ¬í˜„ ê¸°ìˆ  ë³€ê²½ ì‹œ ì½”ë“œ ìˆ˜ì • ìµœì†Œí™”

#### ì‹¤ì œ ì˜ˆì‹œ

##### 1ï¸âƒ£ ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ê¸°ìˆ 

**ì¶”ìƒí™” ì „:**
```java
// JPA ì‚¬ìš©
EntityManager em = ...;
em.persist(user);

// MyBatis ì‚¬ìš©ìœ¼ë¡œ ë³€ê²½ â†’ ì „ì²´ ì½”ë“œ ìˆ˜ì • í•„ìš”
SqlSession session = ...;
session.insert("insertUser", user);
```

**ì¶”ìƒí™” í›„:**
```java
// ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©
userRepository.save(user);

// JPAë“  MyBatisë“  êµ¬í˜„ì²´ë§Œ ë°”ê¾¸ë©´ ë¨
// ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œëŠ” ë³€ê²½ ë¶ˆí•„ìš”!
```

##### 2ï¸âƒ£ WAS(Web Application Server) ë³€ê²½

```java
@RestController
public class UserController {
    @GetMapping("/users")
    public List<User> getUsers() {
        return userService.getUsers();
    }
}
```

- Tomcat â†’ Jetty â†’ Undertow ë³€ê²½í•´ë„ ì½”ë“œ ìˆ˜ì • ì—†ìŒ
- ìŠ¤í”„ë§ì˜ ì¶”ìƒí™”ëœ ì›¹ ì¸í„°í˜ì´ìŠ¤ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸

#### PSAì˜ ì¥ì 
1. **ìœ ì—°ì„±**: ê¸°ìˆ  ìŠ¤íƒ ë³€ê²½ì´ ì‰¬ì›€
2. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: Mock ê°ì²´ë¡œ ì‰½ê²Œ ëŒ€ì²´ ê°€ëŠ¥
3. **í•™ìŠµ ê³¡ì„  ì™„í™”**: ê³µí†µ ì¸í„°í˜ì´ìŠ¤ë§Œ ìµíˆë©´ ë¨

---

## ğŸ“Œ 2. ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„° (Starter)

### 2.1 ê°œë…

#### ìŠ¤íƒ€í„°ë€?
**ê´€ë ¨ëœ ì˜ì¡´ì„±ë“¤ì„ í•˜ë‚˜ë¡œ ë¬¶ì€ ê·¸ë£¹**

#### ëª…ëª… ê·œì¹™
```
spring-boot-starter-{ì‘ì—…ìœ í˜•}
```

### 2.2 ì£¼ìš” ìŠ¤íƒ€í„° ì¢…ë¥˜

| ìŠ¤íƒ€í„° | í¬í•¨ ê¸°ìˆ  | ìš©ë„ |
|--------|----------|------|
| `spring-boot-starter-web` | Spring MVC, Tomcat, Jackson | ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ |
| `spring-boot-starter-data-jpa` | JPA, Hibernate, JDBC | ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… |
| `spring-boot-starter-test` | JUnit, Mockito, AssertJ | í…ŒìŠ¤íŠ¸ ì‘ì„± |
| `spring-boot-starter-security` | Spring Security | ì¸ì¦/ì¸ê°€ |
| `spring-boot-starter-validation` | Hibernate Validator | ë°ì´í„° ê²€ì¦ |
| `spring-boot-starter-thymeleaf` | Thymeleaf | í…œí”Œë¦¿ ì—”ì§„ |

### 2.3 ìŠ¤íƒ€í„° í™•ì¸ ë°©ë²•

#### 1ï¸âƒ£ build.gradle íŒŒì¼ì—ì„œ í™•ì¸
```gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
```

#### 2ï¸âƒ£ IDEì˜ Gradle íƒ­ì—ì„œ í™•ì¸
```
IntelliJ ìš°ì¸¡ â†’ Gradle â†’ Dependencies
â””â”€ spring-boot-starter-web
   â”œâ”€ spring-web
   â”œâ”€ spring-webmvc
   â”œâ”€ tomcat-embed-core
   â””â”€ jackson-databind
```

### 2.4 ìŠ¤íƒ€í„°ì˜ ì¥ì 

1. **ì˜ì¡´ì„± ê´€ë¦¬ ê°„ì†Œí™”**: ê°œë³„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ ì‹ ê²½ ì“¸ í•„ìš” ì—†ìŒ
2. **í˜¸í™˜ì„± ë³´ì¥**: ìŠ¤í”„ë§ ë¶€íŠ¸ê°€ ê²€ì¦ëœ ë²„ì „ ì¡°í•© ì œê³µ
3. **ë¹ ë¥¸ ì‹œì‘**: í•„ìš”í•œ ê¸°ëŠ¥ì„ ë¹ ë¥´ê²Œ ì¶”ê°€ ê°€ëŠ¥

---

## ğŸ“Œ 3. ìŠ¤í”„ë§ ë¶€íŠ¸ ìë™ êµ¬ì„± (Auto Configuration)

### 3.1 ë™ì‘ ì›ë¦¬

#### ìë™ êµ¬ì„± í”„ë¡œì„¸ìŠ¤
```
ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘
    â†“
spring.factories íŒŒì¼ ì½ê¸°
    â†“
ëª¨ë“  AutoConfiguration í´ë˜ìŠ¤ ë¡œë“œ
    â†“
ì¡°ê±´ì— ë§ëŠ” ê²ƒë§Œ ë¹ˆìœ¼ë¡œ ë“±ë¡
    â†“
ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
```

### 3.2 spring.factories íŒŒì¼

#### ìœ„ì¹˜
```
META-INF/spring.factories
```

#### í™•ì¸ ë°©ë²•

**ë°©ë²• 1: ê²€ìƒ‰ ê¸°ëŠ¥ ì‚¬ìš©**
1. IntelliJ ìš°ì¸¡ ìƒë‹¨ ë‹ë³´ê¸°(ğŸ”) í´ë¦­
2. "Files" ì„ íƒ
3. `spring-boot-autoconfigure/spring.factories` ì…ë ¥
4. ì²« ë²ˆì§¸ íŒŒì¼ ì„ íƒ

**ë°©ë²• 2: External Librariesì—ì„œ í™•ì¸**
1. í”„ë¡œì íŠ¸ ì°½ â†’ External Libraries
2. `spring-boot-autoconfigure` ì„ íƒ
3. META-INF â†’ spring.factories í´ë¦­

#### íŒŒì¼ ë‚´ìš© ì˜ˆì‹œ
```properties
# Auto Configure
org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration,\
org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration,\
org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration
```

### 3.3 ìë™ êµ¬ì„± í´ë˜ìŠ¤ êµ¬ì¡°

#### íŒ¨í„´
- **ì„¤ì • í´ë˜ìŠ¤**: `XXXAutoConfiguration`
- **ì†ì„± í´ë˜ìŠ¤**: `XXXProperties`

#### ì˜ˆì‹œ
```java
// ìë™ êµ¬ì„± í´ë˜ìŠ¤
@Configuration
@ConditionalOnClass(DataSource.class)  // DataSourceê°€ ìˆì„ ë•Œë§Œ
public class DataSourceAutoConfiguration {
    // DataSource ë¹ˆ ìë™ ìƒì„±
}

// ì†ì„± í´ë˜ìŠ¤
@ConfigurationProperties(prefix = "spring.datasource")
public class DataSourceProperties {
    private String url;
    private String username;
    private String password;
}
```

### 3.4 ìë™ êµ¬ì„±ì˜ ì¥ì 

**ìë™ êµ¬ì„±ì´ ì—†ë‹¤ë©´:**
```java
@Configuration
public class MyConfig {
    @Bean
    public DataSource dataSource() {
        // ìˆ˜ë™ìœ¼ë¡œ DataSource ì„¤ì •
    }
    
    @Bean
    public JpaTransactionManager transactionManager() {
        // ìˆ˜ë™ìœ¼ë¡œ íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì € ì„¤ì •
    }
    
    // ìˆ˜ì‹­ ê°œì˜ ë¹ˆ ì„¤ì • í•„ìš”...
}
```

**ìë™ êµ¬ì„±ì´ ìˆìœ¼ë©´:**
```yaml
# application.ymlì— ì„¤ì •ë§Œ ì¶”ê°€
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    username: sa
    password:
```
â†’ ë¹ˆì´ ìë™ìœ¼ë¡œ ìƒì„±ë¨!

---

## ğŸ“Œ 4. @SpringBootApplication ë¶„ì„

### 4.1 êµ¬ì„± ìš”ì†Œ

`@SpringBootApplication`ì€ ë‹¤ìŒ 3ê°œ ì–´ë…¸í…Œì´ì…˜ì˜ ì¡°í•©:

```java
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan
public @interface SpringBootApplication {
    // ...
}
```

### 4.2 ê° ì–´ë…¸í…Œì´ì…˜ì˜ ì—­í• 

#### 1ï¸âƒ£ @SpringBootConfiguration

**ì—­í• **: ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì • í´ë˜ìŠ¤ì„ì„ ëª…ì‹œ

- `@Configuration`ê³¼ ë™ì¼í•œ ê¸°ëŠ¥
- ìŠ¤í”„ë§ ë¶€íŠ¸ ì „ìš© ì„¤ì • ìˆ˜í–‰
- í…ŒìŠ¤íŠ¸ì—ì„œ ì„¤ì • í´ë˜ìŠ¤ë¥¼ ì°¾ì„ ë•Œ ì‚¬ìš©

```java
@SpringBootConfiguration
public class MyApp {
    @Bean
    public MyService myService() {
        return new MyService();
    }
}
```

#### 2ï¸âƒ£ @EnableAutoConfiguration

**ì—­í• **: ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ìë™ êµ¬ì„± ê¸°ëŠ¥ í™œì„±í™”

**ë™ì‘ ê³¼ì •**:
1. `spring.factories` íŒŒì¼ì—ì„œ `AutoConfiguration` í´ë˜ìŠ¤ ëª©ë¡ ì½ê¸°
2. ì¡°ê±´(`@Conditional`)ì— ë§ëŠ” ì„¤ì •ë§Œ í™œì„±í™”
3. í•„ìš”í•œ ë¹ˆì„ ìë™ìœ¼ë¡œ ë“±ë¡

**ì˜ˆì‹œ**:
```java
// H2 ì˜ì¡´ì„±ì´ ìˆìœ¼ë©´ ìë™ìœ¼ë¡œ H2 ì„¤ì •
@ConditionalOnClass(H2Driver.class)
public class H2ConsoleAutoConfiguration {
    // H2 ì½˜ì†” ë¹ˆ ìë™ ìƒì„±
}
```

#### 3ï¸âƒ£ @ComponentScan

**ì—­í• **: ì‚¬ìš©ìê°€ ì •ì˜í•œ ë¹ˆì„ ì°¾ì•„ì„œ ë“±ë¡

**ìŠ¤ìº” ëŒ€ìƒ**:
- `@Component`
- `@Service`
- `@Repository`
- `@Controller` / `@RestController`
- `@Configuration`

**ìŠ¤ìº” ë²”ìœ„**:
- ê¸°ë³¸ê°’: `@SpringBootApplication`ì´ ìˆëŠ” íŒ¨í‚¤ì§€ ë° í•˜ìœ„ íŒ¨í‚¤ì§€

```
com.example.myapp        â† @SpringBootApplication ìœ„ì¹˜
â”œâ”€ controller           â† ìŠ¤ìº”ë¨
â”œâ”€ service              â† ìŠ¤ìº”ë¨
â””â”€ repository           â† ìŠ¤ìº”ë¨

com.other.package        â† ìŠ¤ìº” ì•ˆë¨ (ë‹¤ë¥¸ íŒ¨í‚¤ì§€)
```

### 4.3 í†µí•© ë¹„ìœ 

```
@SpringBootApplication
â”œâ”€ @SpringBootConfiguration  â†’ ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì • ë‹´ë‹¹
â”œâ”€ @EnableAutoConfiguration  â†’ ìë™ ì„¤ì • (spring.factories ê¸°ë°˜)
â””â”€ @ComponentScan            â†’ ì‚¬ìš©ì ì •ì˜ ë¹ˆ ë“±ë¡
```

**ë¹„ìœ **:
- `@SpringBootConfiguration`: ê±´ë¬¼ ì„¤ê³„ë„
- `@EnableAutoConfiguration`: ìë™ìœ¼ë¡œ ì„¤ì¹˜ë˜ëŠ” ê¸°ë³¸ ê°€êµ¬
- `@ComponentScan`: ì‚¬ìš©ìê°€ ì§ì ‘ ë°°ì¹˜í•˜ëŠ” ê°€êµ¬

---

## ğŸ“Œ 5. Component ê³„ì¸µ êµ¬ì¡°

### 5.1 @Componentì™€ í•˜ìœ„ ì–´ë…¸í…Œì´ì…˜

#### ê´€ê³„ë„
```
@Component (ìµœìƒìœ„)
â”œâ”€ @Configuration (ì„¤ì • í´ë˜ìŠ¤)
â”œâ”€ @Repository (ë°ì´í„° ê³„ì¸µ)
â”œâ”€ @Service (ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ)
â””â”€ @Controller (ì›¹ ê³„ì¸µ)
   â””â”€ @RestController
```

### 5.2 ê° ì–´ë…¸í…Œì´ì…˜ì˜ ì—­í• 

| ì–´ë…¸í…Œì´ì…˜ | ê³„ì¸µ | ì£¼ìš” ì—­í•  | ì˜ˆì‹œ |
|-----------|------|----------|------|
| `@Component` | ê³µí†µ | ì¼ë°˜ì ì¸ ìŠ¤í”„ë§ ë¹ˆ | ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ |
| `@Configuration` | ì„¤ì • | ë¹ˆ ì„¤ì • í´ë˜ìŠ¤ | ì„¤ì • íŒŒì¼ |
| `@Repository` | ë°ì´í„° | DB ì ‘ê·¼, ORM ë§¤í•‘ | JpaRepository êµ¬í˜„ì²´ |
| `@Service` | ë¹„ì¦ˆë‹ˆìŠ¤ | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ | UserService |
| `@Controller` | ì›¹ | ìš”ì²­ ì²˜ë¦¬ ë° ë·° ë°˜í™˜ | MVC ì»¨íŠ¸ë¡¤ëŸ¬ |
| `@RestController` | ì›¹ | RESTful API ì œê³µ | API ì»¨íŠ¸ë¡¤ëŸ¬ |

### 5.3 ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

```java
// 1. ì„¤ì • í´ë˜ìŠ¤
@Configuration
public class AppConfig {
    @Bean
    public PasswordEncoder passwordEncoder() {
        return new BCryptPasswordEncoder();
    }
}

// 2. ë°ì´í„° ê³„ì¸µ
@Repository
public interface UserRepository extends JpaRepository<User, Long> {
    Optional<User> findByEmail(String email);
}

// 3. ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ
@Service
public class UserService {
    private final UserRepository userRepository;
    
    public User createUser(UserDto dto) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    }
}

// 4. ì›¹ ê³„ì¸µ
@RestController
@RequestMapping("/api/users")
public class UserController {
    private final UserService userService;
    
    @PostMapping
    public ResponseEntity<User> createUser(@RequestBody UserDto dto) {
        return ResponseEntity.ok(userService.createUser(dto));
    }
}

// 5. ì¼ë°˜ ì»´í¬ë„ŒíŠ¸
@Component
public class EmailSender {
    public void sendEmail(String to, String message) {
        // ì´ë©”ì¼ ì „ì†¡ ë¡œì§
    }
}
```

### 5.4 ì™œ êµ¬ë¶„í•´ì„œ ì‚¬ìš©í•˜ëŠ”ê°€?

#### 1. ê°€ë…ì„±
- ì½”ë“œë§Œ ë´ë„ ê³„ì¸µì´ ëª…í™•
- ìœ ì§€ë³´ìˆ˜ ì‹œ ì—­í•  íŒŒì•… ìš©ì´

#### 2. AOP ì ìš©
```java
@Aspect
public class LoggingAspect {
    // Service ê³„ì¸µì˜ ëª¨ë“  ë©”ì„œë“œì—ë§Œ ë¡œê¹… ì ìš©
    @Around("@within(org.springframework.stereotype.Service)")
    public Object logService(ProceedingJoinPoint joinPoint) {
        // ë¡œê¹… ë¡œì§
    }
}
```

#### 3. ì˜ˆì™¸ ì²˜ë¦¬
```java
@Repository
public class UserRepository {
    // ë°ì´í„°ë² ì´ìŠ¤ ì˜ˆì™¸ë¥¼ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ì˜ˆì™¸ë¡œ ë³€í™˜
}
```

---

## ğŸ“Œ 6. @RestController ìƒì„¸

### 6.1 êµ¬ì„±

```java
@RestController = @Controller + @ResponseBody
```

### 6.2 ê° ì–´ë…¸í…Œì´ì…˜ì˜ ì—­í• 

#### @Controller
- **ì—­í• **: ì»¨íŠ¸ë¡¤ëŸ¬ í´ë˜ìŠ¤ì„ì„ ëª…ì‹œ
- **ë¹ˆ ë“±ë¡**: ì›¹ ê³„ì¸µì˜ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡
- **ë°˜í™˜ íƒ€ì…**: ê¸°ë³¸ì ìœ¼ë¡œ ë·° ì´ë¦„(String)ì„ ë°˜í™˜

```java
@Controller
public class HomeController {
    @GetMapping("/home")
    public String home() {
        return "home";  // home.html ë·°ë¥¼ ì°¾ì•„ì„œ ë Œë”ë§
    }
}
```

#### @ResponseBody
- **ì—­í• **: ë©”ì„œë“œ ë°˜í™˜ ê°’ì„ HTTP ì‘ë‹µ ë³¸ë¬¸ìœ¼ë¡œ ë³€í™˜
- **ë³€í™˜ ê³¼ì •**: Java ê°ì²´ â†’ JSON/XML (ìë™ ì§ë ¬í™”)

```java
@Controller
public class UserController {
    @GetMapping("/api/users")
    @ResponseBody  // ì´ê²Œ ìˆì–´ì•¼ JSON ë°˜í™˜
    public List<User> getUsers() {
        return userService.getUsers();
        // ë·°ë¥¼ ì°¾ì§€ ì•Šê³  JSONìœ¼ë¡œ ë³€í™˜
    }
}
```

### 6.3 @RestController ì‚¬ìš©

```java
@RestController  // ëª¨ë“  ë©”ì„œë“œì— @ResponseBody ìë™ ì ìš©
@RequestMapping("/api/users")
public class UserController {
    
    @GetMapping
    public List<User> getUsers() {
        return userService.getUsers();
        // @ResponseBody ì—†ì–´ë„ ìë™ìœ¼ë¡œ JSON ë°˜í™˜
    }
    
    @PostMapping
    public User createUser(@RequestBody UserDto dto) {
        return userService.createUser(dto);
    }
}
```

### 6.4 ì–¸ì œ ë¬´ì—‡ì„ ì‚¬ìš©í•˜ëŠ”ê°€?

| ìƒí™© | ì‚¬ìš© ì–´ë…¸í…Œì´ì…˜ | ë°˜í™˜ íƒ€ì… |
|-----|---------------|----------|
| HTML í˜ì´ì§€ ë Œë”ë§ | `@Controller` | ë·° ì´ë¦„ (String) |
| RESTful API ê°œë°œ | `@RestController` | ë°ì´í„° (JSON/XML) |
| í˜¼í•© (ë·° + API) | `@Controller` + í•„ìš”í•œ ê³³ì— `@ResponseBody` | í˜¼í•© |

---

## ğŸ“Œ 7. ë¼ìš°í„° (Router)

### ê°œë…
HTTP ìš”ì²­ì„ ì ì ˆí•œ ì»¨íŠ¸ë¡¤ëŸ¬ ë©”ì„œë“œì™€ ì—°ê²°í•˜ëŠ” ì¥ì¹˜

### ë¼ìš°íŒ… ë§¤í•‘

```java
@RestController
@RequestMapping("/api/articles")  // ê¸°ë³¸ ê²½ë¡œ
public class ArticleController {
    
    @GetMapping                    // GET /api/articles
    public List<Article> getAll() { }
    
    @GetMapping("/{id}")          // GET /api/articles/1
    public Article getOne(@PathVariable Long id) { }
    
    @PostMapping                  // POST /api/articles
    public Article create(@RequestBody ArticleDto dto) { }
    
    @PutMapping("/{id}")          // PUT /api/articles/1
    public Article update(@PathVariable Long id, 
                         @RequestBody ArticleDto dto) { }
    
    @DeleteMapping("/{id}")       // DELETE /api/articles/1
    public void delete(@PathVariable Long id) { }
}
```

### ë¼ìš°íŒ… ë™ì‘ ê³¼ì •

```
1. í´ë¼ì´ì–¸íŠ¸: GET /api/articles/1 ìš”ì²­
           â†“
2. ìŠ¤í”„ë§: URL íŒ¨í„´ ë§¤ì¹­
           â†“
3. ë¼ìš°í„°: ArticleControllerì˜ getOne(1L) ë©”ì„œë“œ í˜¸ì¶œ
           â†“
4. ì»¨íŠ¸ë¡¤ëŸ¬: ë©”ì„œë“œ ì‹¤í–‰
           â†“
5. í´ë¼ì´ì–¸íŠ¸: ì‘ë‹µ ë°˜í™˜
```

---

## ğŸ“Œ 8. ìŠ¤í”„ë§ ë¶€íŠ¸ ë¡œì§ ì²˜ë¦¬ ê³¼ì •

### 8.1 ìš”ì²­ ì²˜ë¦¬ íë¦„

```
í´ë¼ì´ì–¸íŠ¸ (ë¸Œë¼ìš°ì €/ì•±)
    â†“ HTTP ìš”ì²­
Controller (ìš”ì²­ ë¶„ì„)
    â†“ ë©”ì„œë“œ í˜¸ì¶œ
Service (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
    â†“ ë°ì´í„° ìš”ì²­
Repository (DB ì ‘ê·¼)
    â†“ SQL ì‹¤í–‰
Database
    â†“ ê²°ê³¼ ë°˜í™˜
Repository â†’ Service â†’ Controller
    â†“ HTTP ì‘ë‹µ
í´ë¼ì´ì–¸íŠ¸
```

### 8.2 ê° ê³„ì¸µì˜ ì—­í• 

#### 1ï¸âƒ£ Controller (ì›¹ ê³„ì¸µ)
**ì—­í• **: HTTP ìš”ì²­ ìˆ˜ì‹  ë° ì‘ë‹µ ë°˜í™˜

```java
@RestController
@RequestMapping("/api/members")
public class MemberController {
    
    private final MemberService memberService;
    
    @PostMapping
    public ResponseEntity<Member> createMember(@RequestBody MemberDto dto) {
        // 1. ìš”ì²­ ë°›ê¸°
        // 2. ì„œë¹„ìŠ¤ í˜¸ì¶œ
        Member member = memberService.createMember(dto);
        // 3. ì‘ë‹µ ë°˜í™˜
        return ResponseEntity.ok(member);
    }
}
```

**ì±…ì„**:
- ìš”ì²­ íŒŒë¼ë¯¸í„° ê²€ì¦
- ì„œë¹„ìŠ¤ ê³„ì¸µ í˜¸ì¶œ
- HTTP ì‘ë‹µ ì½”ë“œ ê²°ì •
- ì˜ˆì™¸ ì²˜ë¦¬

#### 2ï¸âƒ£ Service (ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ)
**ì—­í• **: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬

```java
@Service
public class MemberService {
    
    private final MemberRepository memberRepository;
    
    @Transactional
    public Member createMember(MemberDto dto) {
        // 1. ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦
        if (memberRepository.existsByEmail(dto.getEmail())) {
            throw new DuplicateEmailException();
        }
        
        // 2. ì—”í‹°í‹° ìƒì„±
        Member member = Member.builder()
            .email(dto.getEmail())
            .name(dto.getName())
            .build();
        
        // 3. ì €ì¥ (Repository í˜¸ì¶œ)
        return memberRepository.save(member);
    }
}
```

**ì±…ì„**:
- ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì ìš©
- íŠ¸ëœì­ì…˜ ê´€ë¦¬
- ì—¬ëŸ¬ Repository ì¡°í•©
- ë„ë©”ì¸ ë¡œì§ ì‹¤í–‰

#### 3ï¸âƒ£ Repository (ë°ì´í„° ê³„ì¸µ)
**ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼

```java
@Repository
public interface MemberRepository extends JpaRepository<Member, Long> {
    
    boolean existsByEmail(String email);
    
    Optional<Member> findByEmail(String email);
    
    @Query("SELECT m FROM Member m WHERE m.age > :age")
    List<Member> findByAgeGreaterThan(@Param("age") int age);
}
```

**ì±…ì„**:
- CRUD ì‘ì—…
- ì¿¼ë¦¬ ì‹¤í–‰
- ë°ì´í„° ë³€í™˜ (Entity â†” Table)

#### 4ï¸âƒ£ Database
**ì—­í• **: ì‹¤ì œ ë°ì´í„° ì €ì¥ì†Œ

### 8.3 DAO (Data Access Object)

#### ê°œë…
ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µê³¼ ìƒí˜¸ì‘ìš©í•˜ê¸° ìœ„í•œ ê°ì²´

#### Repository vs DAO

| êµ¬ë¶„ | Repository | DAO |
|-----|-----------|-----|
| ê°œë… | DDD(ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„) ìš©ì–´ | ì „í†µì ì¸ íŒ¨í„´ |
| ì´ˆì  | ë„ë©”ì¸ ê°ì²´ ì»¬ë ‰ì…˜ì²˜ëŸ¼ ë‹¤ë£¸ | ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì¤‘ì‹¬ |
| ìŠ¤í”„ë§ | `JpaRepository` ì¸í„°í˜ì´ìŠ¤ | ì§ì ‘ êµ¬í˜„ |
| ì¶”ìƒí™” ìˆ˜ì¤€ | ë†’ìŒ | ë‚®ìŒ |

**í˜„ëŒ€ ìŠ¤í”„ë§**:
- Repository íŒ¨í„´ ì‚¬ìš© ê¶Œì¥
- DAOëŠ” ë ˆê±°ì‹œ ì‹œìŠ¤í…œì—ì„œ ì£¼ë¡œ ì‚¬ìš©

---

## ğŸ“Œ 9. ìŠ¤í”„ë§ ë¶€íŠ¸ ê³„ì¸µ êµ¬ì¡° (Architecture)

### 9.1 4ê³„ì¸µ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Presentation Layer (Controller)   â”‚ â† HTTP ìš”ì²­/ì‘ë‹µ
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚      Business Layer (Service)        â”‚ â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    Persistence Layer (Repository)    â”‚ â† DB ì ‘ê·¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         Database Layer (DB)          â”‚ â† ë°ì´í„° ì €ì¥
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 ê³„ì¸µë³„ ìƒì„¸

#### ê³„ì¸µ 1: Presentation Layer (í‘œí˜„ ê³„ì¸µ)
- **êµ¬ì„±**: Controller, RestController
- **ì—­í• **: 
  - ì‚¬ìš©ì ìš”ì²­ ìˆ˜ì‹ 
  - ì…ë ¥ ë°ì´í„° ê²€ì¦
  - ì‘ë‹µ í˜•ì‹ ê²°ì •
- **ì˜ì¡´**: Service ê³„ì¸µ

#### ê³„ì¸µ 2: Business Layer (ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ)
- **êµ¬ì„±**: Service
- **ì—­í• **:
  - í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
  - íŠ¸ëœì­ì…˜ ê´€ë¦¬
  - ì—¬ëŸ¬ Repository ì¡°í•©
- **ì˜ì¡´**: Repository ê³„ì¸µ

#### ê³„ì¸µ 3: Persistence Layer (ì˜ì† ê³„ì¸µ)
- **êµ¬ì„±**: Repository, DAO
- **ì—­í• **:
  - ë°ì´í„°ë² ì´ìŠ¤ CRUD
  - ì¿¼ë¦¬ ì‹¤í–‰
  - ì—”í‹°í‹°-í…Œì´ë¸” ë§¤í•‘
- **ì˜ì¡´**: Database ê³„ì¸µ

#### ê³„ì¸µ 4: Database Layer (ë°ì´í„°ë² ì´ìŠ¤ ê³„ì¸µ)
- **êµ¬ì„±**: MySQL, PostgreSQL, H2 ë“±
- **ì—­í• **: ì‹¤ì œ ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬

### 9.3 ê³„ì¸µ ê°„ ì˜ì¡´ ê·œì¹™

#### âœ… ì˜¬ë°”ë¥¸ ì˜ì¡´ ë°©í–¥
```
Controller â†’ Service â†’ Repository â†’ Database
```

#### âŒ ì˜ëª»ëœ ì˜ì¡´
```
Repository â†’ Service (ì—­ë°©í–¥)
Controller â†’ Repository (ê³„ì¸µ ê±´ë„ˆë›°ê¸°)
Service â†’ Controller (ì—­ë°©í–¥)
```

### 9.4 ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ

```java
// 1. Controller (í‘œí˜„ ê³„ì¸µ)
@RestController
@RequestMapping("/api/orders")
public class OrderController {
    private final OrderService orderService;  // Service ì˜ì¡´
    
    @PostMapping
    public OrderResponse createOrder(@RequestBody OrderRequest request) {
        return orderService.createOrder(request);
    }
}

// 2. Service (ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µ)
@Service
public class OrderService {
    private final OrderRepository orderRepository;    // Repository ì˜ì¡´
    private final ProductRepository productRepository;
    
    @Transactional
    public OrderResponse createOrder(OrderRequest request) {
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§: ì¬ê³  í™•ì¸, ì£¼ë¬¸ ìƒì„±, ê²°ì œ ì²˜ë¦¬
        Product product = productRepository.findById(request.getProductId())
            .orElseThrow();
        
        if (product.getStock() < request.getQuantity()) {
            throw new OutOfStockException();
        }
        
        Order order = Order.create(product, request.getQuantity());
        return orderRepository.save(order);
    }
}

// 3. Repository (ì˜ì† ê³„ì¸µ)
@Repository
public interface OrderRepository extends JpaRepository<Order, Long> {
    List<Order> findByUserId(Long userId);
}

// 4. Database
// MySQL, H2 ë“± ì‹¤ì œ DB
```

---

## ğŸ“Œ 10. ìŠ¤í”„ë§ ë¶€íŠ¸ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

### 10.1 ì „ì²´ êµ¬ì¡°

```
my-spring-project/
â”œâ”€ src/
â”‚  â”œâ”€ main/                    â† ì‹¤ì œ ì½”ë“œ
â”‚  â”‚  â”œâ”€ java/
â”‚  â”‚  â”‚  â””â”€ com.example.myapp/
â”‚  â”‚  â”‚     â”œâ”€ MyApplication.java
â”‚  â”‚  â”‚     â”œâ”€ controller/
â”‚  â”‚  â”‚     â”œâ”€ service/
â”‚  â”‚  â”‚     â”œâ”€ repository/
â”‚  â”‚  â”‚     â””â”€ domain/
â”‚  â”‚  â””â”€ resources/
â”‚  â”‚     â”œâ”€ static/            â† ì •ì  ë¦¬ì†ŒìŠ¤
â”‚  â”‚     â”œâ”€ templates/         â† í…œí”Œë¦¿ íŒŒì¼
â”‚  â”‚     â””â”€ application.yml    â† ì„¤ì • íŒŒì¼
â”‚  â””â”€ test/                    â† í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚     â”œâ”€ java/
â”‚     â””â”€ resources/
â”œâ”€ build.gradle                â† ë¹Œë“œ ì„¤ì •
â”œâ”€ settings.gradle             â† í”„ë¡œì íŠ¸ ì„¤ì •
â””â”€ gradlew                     â† Gradle ì‹¤í–‰ íŒŒì¼
```

### 10.2 ì£¼ìš” ë””ë ‰í† ë¦¬ ì„¤ëª…

#### src/main/
**ì—­í• **: ì‹¤ì œ ì• í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œ ì‘ì„± ê³µê°„

**í¬í•¨ ë‚´ìš©**:
- í”„ë¡œì íŠ¸ ì‹¤í–‰ì— í•„ìš”í•œ ëª¨ë“  ì†ŒìŠ¤ ì½”ë“œ
- ë¦¬ì†ŒìŠ¤ íŒŒì¼ (ì´ë¯¸ì§€, CSS, JS ë“±)
- ì„¤ì • íŒŒì¼

#### src/test/
**ì—­í• **: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ê³µê°„

**í¬í•¨ ë‚´ìš©**:
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- í†µí•© í…ŒìŠ¤íŠ¸
- í…ŒìŠ¤íŠ¸ìš© ë¦¬ì†ŒìŠ¤ íŒŒì¼

**íŠ¹ì§•**:
- ì‹¤ì œ ë°°í¬ ì‹œ ì œì™¸ë¨
- `main/` ì½”ë“œì™€ ë™ì¼í•œ íŒ¨í‚¤ì§€ êµ¬ì¡° ê¶Œì¥

### 10.3 resources/ í•˜ìœ„ êµ¬ì¡°

#### resources/static/
**ì—­í• **: ì •ì  ë¦¬ì†ŒìŠ¤ ì €ì¥

**í¬í•¨ íŒŒì¼**:
- HTML íŒŒì¼
- CSS íŒŒì¼
- JavaScript íŒŒì¼
- ì´ë¯¸ì§€ íŒŒì¼ (png, jpg, svg ë“±)
- í°íŠ¸ íŒŒì¼

**ì ‘ê·¼ ë°©ë²•**:
```
íŒŒì¼ ìœ„ì¹˜: src/main/resources/static/css/style.css
URL: http://localhost:8080/css/style.css
```

#### resources/templates/
**ì—­í• **: ë™ì  í…œí”Œë¦¿ íŒŒì¼ ì €ì¥

**ì§€ì› í…œí”Œë¦¿ ì—”ì§„**:
- Thymeleaf (ê¶Œì¥)
- JSP
- FreeMarker
- Mustache

**ì˜ˆì‹œ**:
```html
<!-- templates/home.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="${title}">ì œëª©</title>
</head>
<body>
    <h1 th:text="${message}">ë©”ì‹œì§€</h1>
</body>
</html>
```

#### resources/application.yml
**ì—­í• **: ìŠ¤í”„ë§ ë¶€íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„¤ì •

**ì£¼ìš” ì„¤ì • í•­ëª©**:

```yaml
# ì„œë²„ ì„¤ì •
server:
  port: 8080
  
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
spring:
  datasource:
    url: jdbc:h2:mem:testdb
    username: sa
    password:
    driver-class-name: org.h2.Driver
  
  # JPA ì„¤ì •
  jpa:
    hibernate:
      ddl-auto: create
    show-sql: true
    properties:
      hibernate:
        format_sql: true
  
  # H2 ì½˜ì†” ì„¤ì •
  h2:
    console:
      enabled: true
      
# ë¡œê¹… ì„¤ì •
logging:
  level:
    com.example.myapp: DEBUG
    org.hibernate.SQL: DEBUG
```

### 10.4 build.gradle

**ì—­í• **: ë¹Œë“œ ë„êµ¬ ì„¤ì • íŒŒì¼

**ì£¼ìš” ë‚´ìš©**:
- í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„°
- í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
- ì˜ì¡´ì„± ê´€ë¦¬
- ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

```gradle
plugins {
    id 'java'
    id 'org.springframework.boot' version '3.2.0'
    id 'io.spring.dependency-management' version '1.1.4'
}

group = 'com.example'
version = '0.0.1-SNAPSHOT'

java {
    sourceCompatibility = '17'
}

repositories {
    mavenCentral()
}

dependencies {
    // ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„°
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    
    // ë°ì´í„°ë² ì´ìŠ¤
    runtimeOnly 'com.h2database:h2'
    
    // í…ŒìŠ¤íŠ¸
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

tasks.named('test') {
    useJUnitPlatform()
}
```

### 10.5 settings.gradle

**ì—­í• **: Gradle í”„ë¡œì íŠ¸ ì„¤ì •

**ì£¼ìš” ë‚´ìš©**:

```gradle
rootProject.name = 'my-spring-project'

// ë©€í‹° ëª¨ë“ˆ í”„ë¡œì íŠ¸ì˜ ê²½ìš°
include 'module-1'
include 'module-2'
```

---

## ğŸ“Œ 11. Gradle ì˜ì¡´ì„± í‚¤ì›Œë“œ

### 11.1 ì˜ì¡´ì„± ìŠ¤ì½”í”„

| í‚¤ì›Œë“œ | ì»´íŒŒì¼ | ëŸ°íƒ€ì„ | í…ŒìŠ¤íŠ¸ ì»´íŒŒì¼ | í…ŒìŠ¤íŠ¸ ëŸ°íƒ€ì„ | ìµœì¢… ì‚°ì¶œë¬¼ í¬í•¨ |
|--------|--------|--------|--------------|--------------|----------------|
| `implementation` | âœ… | âœ… | âœ… | âœ… | âœ… |
| `compileOnly` | âœ… | âŒ | âŒ | âŒ | âŒ |
| `runtimeOnly` | âŒ | âœ… | âŒ | âœ… | âœ… |
| `testImplementation` | âŒ | âŒ | âœ… | âœ… | âŒ |
| `testCompileOnly` | âŒ | âŒ | âœ… | âŒ | âŒ |
| `testRuntimeOnly` | âŒ | âŒ | âŒ | âœ… | âŒ |

### 11.2 ê° í‚¤ì›Œë“œ ìƒì„¸

#### implementation
**ì‚¬ìš© ì‹œì **: ì»´íŒŒì¼ê³¼ ëŸ°íƒ€ì„ ëª¨ë‘ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

```gradle
dependencies {
    implementation 'org.springframework.boot:spring-boot-starter-web'
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
}
```

**íŠ¹ì§•**:
- ê°€ì¥ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©
- ì»´íŒŒì¼ ì‹œ ì½”ë“œ ì‘ì„± ê°€ëŠ¥
- ëŸ°íƒ€ì„ì— ì‹¤í–‰ ê°€ëŠ¥
- ìµœì¢… JAR/WAR íŒŒì¼ì— í¬í•¨

**ì˜ˆì‹œ**:
```java
// Spring Web ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©
@RestController
public class MyController {
    // implementation ì—†ìœ¼ë©´ ì»´íŒŒì¼ ì—ëŸ¬
}
```

#### compileOnly
**ì‚¬ìš© ì‹œì **: ì»´íŒŒì¼ ì‹œì—ë§Œ í•„ìš”í•˜ê³  ëŸ°íƒ€ì„ì—ëŠ” ë¶ˆí•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

```gradle
dependencies {
    compileOnly 'org.projectlombok:lombok'
}
```

**íŠ¹ì§•**:
- ì»´íŒŒì¼ íƒ€ì„ì—ë§Œ ì‚¬ìš©
- ëŸ°íƒ€ì„ì—ëŠ” ì œì™¸
- JAR íŒŒì¼ í¬ê¸° ê°ì†Œ

**ëŒ€í‘œ ì‚¬ë¡€**: Lombok
```java
@Getter
@Setter
public class User {
    private String name;
    // Lombokì´ ì»´íŒŒì¼ ì‹œ getter/setter ìƒì„±
    // ìƒì„±ëœ ì½”ë“œëŠ” ë°”ì´íŠ¸ì½”ë“œì— í¬í•¨ë˜ë¯€ë¡œ
    // ëŸ°íƒ€ì„ì— Lombok ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆí•„ìš”
}
```

#### runtimeOnly
**ì‚¬ìš© ì‹œì **: ëŸ°íƒ€ì„ì—ë§Œ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

```gradle
dependencies {
    runtimeOnly 'com.h2database:h2'
    runtimeOnly 'mysql:mysql-connector-java'
}
```

**íŠ¹ì§•**:
- ì»´íŒŒì¼ ì‹œ ì§ì ‘ ì‚¬ìš© ë¶ˆê°€
- ëŸ°íƒ€ì„ì— ë™ì ìœ¼ë¡œ ë¡œë“œ
- êµ¬í˜„ì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì£¼ë¡œ ì‚¬ìš©

**ëŒ€í‘œ ì‚¬ë¡€**: ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„
```java
// ì½”ë“œì—ì„œëŠ” JDBC ì¸í„°í˜ì´ìŠ¤ë§Œ ì‚¬ìš©
Connection conn = DriverManager.getConnection(url, user, password);

// H2/MySQL ë“œë¼ì´ë²„ëŠ” ëŸ°íƒ€ì„ì— ë™ì  ë¡œë“œ
// ë”°ë¼ì„œ runtimeOnlyë¡œ ì¶©ë¶„
```

#### testImplementation
**ì‚¬ìš© ì‹œì **: í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„± ë° ì‹¤í–‰ì— í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬

```gradle
dependencies {
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.junit.jupiter:junit-jupiter'
}
```

**íŠ¹ì§•**:
- í…ŒìŠ¤íŠ¸ ì½”ë“œì—ì„œë§Œ ì‚¬ìš©
- ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” ì ‘ê·¼ ë¶ˆê°€
- ìµœì¢… ë°°í¬ íŒŒì¼ì—ì„œ ì œì™¸

**ì˜ˆì‹œ**:
```java
// src/test/java/
@Test
void testSomething() {
    // JUnit, Mockito ë“± ì‚¬ìš©
    assertThat(result).isEqualTo(expected);
}
```

### 11.3 ì‹¤ì „ ì˜ì¡´ì„± ì„¤ì • ì˜ˆì‹œ

```gradle
dependencies {
    // ì›¹ ê°œë°œ (ì»´íŒŒì¼ + ëŸ°íƒ€ì„)
    implementation 'org.springframework.boot:spring-boot-starter-web'
    
    // JPA (ì»´íŒŒì¼ + ëŸ°íƒ€ì„)
    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
    
    // Lombok (ì»´íŒŒì¼ë§Œ)
    compileOnly 'org.projectlombok:lombok'
    annotationProcessor 'org.projectlombok:lombok'
    
    // ë°ì´í„°ë² ì´ìŠ¤ ë“œë¼ì´ë²„ (ëŸ°íƒ€ì„ë§Œ)
    runtimeOnly 'com.h2database:h2'
    runtimeOnly 'mysql:mysql-connector-java'
    
    // í…ŒìŠ¤íŠ¸ ì „ìš©
    testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation 'org.mockito:mockito-core'
}
```

### 11.4 ì˜ì¡´ì„± ì„ íƒ ê°€ì´ë“œ

**ì§ˆë¬¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**:

1. **ì»´íŒŒì¼ ì‹œ ì½”ë“œì—ì„œ ì§ì ‘ ì‚¬ìš©í•˜ëŠ”ê°€?**
   - YES â†’ `implementation` ë˜ëŠ” `compileOnly`
   - NO â†’ `runtimeOnly`

2. **ëŸ°íƒ€ì„ì— í•„ìš”í•œê°€?**
   - YES â†’ `implementation` ë˜ëŠ” `runtimeOnly`
   - NO â†’ `compileOnly`

3. **í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ì‚¬ìš©í•˜ëŠ”ê°€?**
   - YES â†’ `testImplementation`
   - NO â†’ ìœ„ ì²´í¬ë¦¬ìŠ¤íŠ¸ ì ìš©

**ì˜ˆì‹œ ê²°ì • íŠ¸ë¦¬**:
```
ë¼ì´ë¸ŒëŸ¬ë¦¬: Spring Web
â”œâ”€ ì»´íŒŒì¼ ì‹œ ì‚¬ìš©? YES (@RestController ë“±)
â””â”€ ëŸ°íƒ€ì„ ì‹œ ì‚¬ìš©? YES (ì„œë²„ ì‹¤í–‰ í•„ìš”)
   â†’ implementation

ë¼ì´ë¸ŒëŸ¬ë¦¬: Lombok
â”œâ”€ ì»´íŒŒì¼ ì‹œ ì‚¬ìš©? YES (ì–´ë…¸í…Œì´ì…˜ ì²˜ë¦¬)
â””â”€ ëŸ°íƒ€ì„ ì‹œ ì‚¬ìš©? NO (ë°”ì´íŠ¸ì½”ë“œì— ì´ë¯¸ í¬í•¨)
   â†’ compileOnly

ë¼ì´ë¸ŒëŸ¬ë¦¬: H2 Database
â”œâ”€ ì»´íŒŒì¼ ì‹œ ì‚¬ìš©? NO (ì¸í„°í˜ì´ìŠ¤ë§Œ ì‚¬ìš©)
â””â”€ ëŸ°íƒ€ì„ ì‹œ ì‚¬ìš©? YES (DB ì—°ê²° í•„ìš”)
   â†’ runtimeOnly

ë¼ì´ë¸ŒëŸ¬ë¦¬: JUnit
â”œâ”€ í…ŒìŠ¤íŠ¸ì—ì„œë§Œ ì‚¬ìš©? YES
   â†’ testImplementation
```

---

## ğŸ“š í•µì‹¬ ìš”ì•½

### ìŠ¤í”„ë§ì˜ 3ëŒ€ í•µì‹¬
1. **IoC**: ê°ì²´ ìƒì„±/ê´€ë¦¬ë¥¼ ìŠ¤í”„ë§ì´ ë‹´ë‹¹
2. **AOP**: ê´€ì‹¬ì‚¬ ë¶„ë¦¬ (í•µì‹¬ ë¡œì§ vs ë¶€ê°€ ê¸°ëŠ¥)
3. **PSA**: ê¸°ìˆ  ì¶”ìƒí™”ë¡œ êµ¬í˜„ì²´ ë³€ê²½ ìš©ì´

### ìë™ êµ¬ì„±
- `spring.factories`ì—ì„œ ì„¤ì • ì½ê¸°
- ì¡°ê±´ì— ë§ëŠ” ë¹ˆ ìë™ ë“±ë¡
- ê°œë°œìëŠ” ì„¤ì • íŒŒì¼ë§Œ ì‘ì„±

### @SpringBootApplication
- `@SpringBootConfiguration`: ìŠ¤í”„ë§ ë¶€íŠ¸ ì„¤ì •
- `@EnableAutoConfiguration`: ìë™ êµ¬ì„± í™œì„±í™”
- `@ComponentScan`: ì‚¬ìš©ì ì •ì˜ ë¹ˆ ìŠ¤ìº”

### ê³„ì¸µ êµ¬ì¡°
- Controller â†’ Service â†’ Repository â†’ Database
- ê° ê³„ì¸µì€ ëª…í™•í•œ ì±…ì„ ë¶„ë¦¬
- ì˜ì¡´ ë°©í–¥ì€ ë‹¨ë°©í–¥

### í”„ë¡œì íŠ¸ êµ¬ì¡°
- `main/`: ì‹¤ì œ ì½”ë“œ
- `test/`: í…ŒìŠ¤íŠ¸ ì½”ë“œ
- `resources/`: ì„¤ì • ë° ì •ì  íŒŒì¼
- `build.gradle`: ì˜ì¡´ì„± ë° ë¹Œë“œ ì„¤ì •